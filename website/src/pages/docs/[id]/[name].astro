---
import { getCollection } from "astro:content";
import DocsLayout from "../../../components/DocsLayout.astro";
import { APIItem } from "../../../components/API";

export const getStaticPaths = async () => {
  const items = await getCollection("generated");
  return items.flatMap((x) =>
    x.data.items.map((item) => ({
      params: { id: x.id, name: item.name },
      props: { data: item, all: x.data.items.map((x) => x.name) },
    }))
  );
};
---

<DocsLayout>
  <APIItem item={Astro.props.data} all={Astro.props.all} />
</DocsLayout>
